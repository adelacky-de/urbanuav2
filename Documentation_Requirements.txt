# UI Update Documentation Requirements

## Current Status
- Backend (FastAPI + PostGIS) is running and correctly serving Spatial Data (2D, 3D Network, 3D Tiles)
- Frontend (React + Vite, Cesium) is successfully fetching and rendering the data.

## Objectives for UI Updates
(Please outline the required UI changes below)

## Functional Requirements
- add a perspective buttom on the right bottom, it makes the user can change their presepectives, e.g. one-click to go from human's ground level and face to north, and humand's ground level to south..... and one click back to the bird presepecetive.; provide mulitple buttom for this function
- add one more layer: '/Users/adelachu/Desktop/WWU/Analysis-Spatio/^Project/FinalReport/Case1_layer/hdb_footprints.geojson', i think it should be added to the api as well for the consistency
- add a data bar now on the top left to be a expanable bar, when user click on the bar, they can 1. select the layer, 2. change colour of the layer, and 3. change transparency of the layer
- add a info bar on the bottom bar
- allow user to click on the polygon and info will show up on the info bar (if there are multiple visible layer show) all of them will turn yellow and show in a table form, the clicking result should be accumulated.
- the hdb footprints should be in 3D
- the visualisation should be more smoother
- default visible layer only building layer & 3D layer
- the layer source box can be removed, the layer should be in the data bar
- it required more time to load the building layer, using a circle load icon on the middle of the screen to show the wating process, it loading animation should end when the building is succesfully loaded.
- the loading time for the dataset is too slow, i think it can be optimised by using bounding box conept to load only the object that with in the box since we are using api
## Aesthetic Requirements
- 3D layer cannot change colour but the transparency only
- the default colour of the 3D layer is based on the 
- change the info bar, it should be in a table form without any block
- do not use any emoji
- remove the vite logo and change the html name

## Technical Considerations
- 
- 
- 

## Changelog (Compared to initial version)
**Backend & Database:**
- Integrated `hdb_footprints.geojson` into the data import pipeline.
- Added PostGIS `GIST` indexes to all geometry columns (`corridors_2d`, `network_3d`, `hdb_footprints`) to drastically speed up spatial queries.
- Updated FastAPI endpoints to accept `min_lon`, `min_lat`, `max_lon`, `max_lat` query parameters and selectively fetch data using `ST_Intersects`.

**Frontend Performance:**
- Implemented dynamic Bounding Box (BBOX) data loading attached to the Cesium camera `moveEnd` event to prevent fetching entire datasets.
- Fixed infinite loading spinners caused by disabled layers.
- Replaced the incredibly slow `scene.drillPick` method with `scene.pick` for instant object selection.
- Overhauled the selection highlight logic from rebuilding batched geometry materials to injecting instant, standalone geometric overlays.

**Frontend UX & Aesthetics:**
- Completely purged emojis, Vite logos, and reset the HTML title.
- Removed the heavy and clunky 3D Tileset layer entirely.
- Added a collapsible **Layer Panel** for toggling visibility, opacity sliders, and dynamic color picking for the 2D layer.
- Overhauled the **InfoBar** to elegantly accumulate features in a table format, and implemented a **CSV Export** button.
- Replaced the static text labels on the Navigation Ball with a sleek, expandable icon-only menu (`‚åñ`, `Top`, `N`, `E`, `S`, `W`).


# remaining test
- 1. try: instead of using intersection and tile, render the enitre layer to see if the rendering can be optimised a bit
- 2. try: if case 1 failed, then try to import '/Users/adelachu/Desktop/WWU/Analysis-Spatio/^Project/FinalReport/Case1_layer/3D_merged_network.geojson' and set the original to default = false and visible this layer
